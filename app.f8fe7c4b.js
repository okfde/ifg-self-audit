(function(t){function e(e){for(var i,o,a=e[0],c=e[1],u=e[2],p=0,d=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/ifg-self-audit/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1778:function(t,e,n){},"2a66":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container max-w-5xl mx-auto py-8 px-4 print:max-w-none"},[i("header",{staticClass:"mb-12"},[i("img",{staticClass:"w-14 text-center",attrs:{src:n("9b19")}}),i("h1",{staticClass:"mt-12"},[t._v("IFG Self Audit")]),t.done?t._e():i("span",[t._v(" Frage "+t._s(t.currentQuestion+1)+" von "+t._s(t.questionaire.length)+" ")])]),i("div",{staticClass:"bg-gray-100 p-8 print:bg-none"},[t.done?i("ResultsView",t._b({attrs:{totalPoints:t.totalPoints,questionaire:t.questionaire,answers:t.answers},on:{restart:t.restart}},"ResultsView",t.resultMessage,!1)):i("MessageView",t._b({attrs:{first:0===t.currentQuestion},on:{next:t.nextQuestion,previous:t.previousQuestion}},"MessageView",t.question,!1))],1),t._m(0)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"mt-12 text-sm text-gray-600 flex"},[n("span",[t._v(" Ein Projekt von "),n("a",{attrs:{href:"https://fragdenstaat.de"}},[t._v("FragDenStaat")]),t._v(". ")]),n("span",{staticClass:"ml-auto print:hidden"},[n("a",{attrs:{href:"https://fragdenstaat.de/impressum"}},[t._v("Impressum")])])])}],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.title?n("h2",{domProps:{textContent:t._s(t.title)}}):t._e(),n("ContentContainer",{staticClass:"mb-4",attrs:{body:t.body}}),t.error?n("div",{staticClass:"mb-2 mt-8"},[t._m(0)]):t._e(),n("OptionsView",{attrs:{options:t.options},model:{value:t.choice,callback:function(e){t.choice=e},expression:"choice"}}),n("div",{staticClass:"flex mt-12"},[t.first?t._e():n("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.$emit("previous")}}},[t._v(" Zurück ")]),n("button",{staticClass:"btn btn-primary ml-auto",on:{click:t.next}},[t._v(" Weiter ")])])],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("Fehler:")]),t._v(" Bitte wählen Sie eine der Optionen.")])}],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container",domProps:{innerHTML:t._s(t.body)}})},u=[],l={props:["body"]},p=l,d=(n("fd93"),n("2877")),h=Object(d["a"])(p,c,u,!1,null,"504305a6",null),m=h.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.options?n("div",{staticClass:"my-6"},t._l(t.radios,(function(e){return n("div",{key:e.id,staticClass:"flex mb-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.choice,expression:"choice"}],attrs:{type:"radio",id:e.id},domProps:{value:e.id,checked:t._q(t.choice,e.id)},on:{change:function(n){t.choice=e.id}}}),n("label",{staticClass:"ml-2",attrs:{for:e.id}},[t._v(t._s(e.text))])])})),0):t._e()},b=[],v={props:["options"],data(){return{choice:""}},computed:{radios(){var t;return null===(t=this.options)||void 0===t?void 0:t.map(t=>({...t,id:Math.random().toString(36).substring(7)}))}},watch:{choice(){this.$emit("input",this.radios.find(t=>t.id===this.choice))}}},_=v,g=Object(d["a"])(_,f,b,!1,null,null,null),w=g.exports,y={props:["title","body","options","first"],components:{ContentContainer:m,OptionsView:w},data(){return{choice:void 0,error:!1}},methods:{next(){!this.options||this.choice?this.$emit("next",this.choice):this.error=!0}},watch:{title(){this.error=!1}}},x=y,C=Object(d["a"])(x,o,a,!1,null,null,null),P=C.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.title?i("h2",{domProps:{textContent:t._s(t.title)}}):t._e(),i("ContentContainer",{staticClass:"mb-2",attrs:{body:t.body}}),i("div",{staticClass:"barometer"},[i("img",{staticClass:"needle",style:{marginLeft:t.barometerPosition},attrs:{src:n("bf9f")}})]),i("p",[t._v(" Von "),i("strong",[t._v(t._s(t.totalPoints)+" erreichbaren")]),t._v(" Punkten haben Sie "),i("strong",[t._v(t._s(t.collectedPoints)+" Punkt"+t._s(1===t.collectedPoints?"":"e")+" erreicht")]),t._v(". "),0===t.improvements.length?i("span",[t._v(" Sie sind bereits auf dem besten Stand! ")]):i("span",[t._v(" Um mehr Transparenz zu schaffen, nehmen Sie sich folgende Punkte zu Herzen: ")])]),i("ul",{staticClass:"mt-8"},t._l(t.improvements,(function(e,n){var s=e.question;return i("li",{key:n,staticClass:"mb-4"},[i("h3",[t._v(t._s(s.problem))]),i("p",[t._v(t._s(s.guidance))])])})),0),i("button",{staticClass:"btn btn-primary print:hidden mt-4",on:{click:t.print}},[t._v(" Ergebnis drucken ")]),i("button",{staticClass:"btn btn-secondary print:hidden mt-4 ml-2",on:{click:t.restart}},[t._v(" Neu beginnen ")])],1)},k=[],O=(n("ddb0"),{props:["title","body","totalPoints","answers","questionaire"],components:{ContentContainer:m},computed:{improvements(){const t=this.answers.map(t=>({answer:t,question:this.questionaire.find(e=>e.id===t.id)})).filter(({question:t})=>t.options);return console.log(t),t.filter(({answer:t,question:e})=>{const n=Math.max(...e.options.map(t=>t.points));return n!==t.choice.points}).sort((t,e)=>e.question.priority-t.question.priority)},collectedPoints(){const t=this.answers.reduce((t,e)=>{var n;return t+((null===(n=e.choice)||void 0===n?void 0:n.points)||0)},0);return Math.max(t,0)},barometerPosition(){const t=this.collectedPoints/this.totalPoints;return`calc(${100*t}% - ${t}rem)`}},methods:{print(){window.print()},restart(){window.confirm("Wollen Sie wirklich neustarten?")&&this.$emit("restart")}}}),q=O,j=(n("e0e9"),Object(d["a"])(q,S,k,!1,null,"7cc76e6d",null)),Q=j.exports,M=n("b49f");const $=M["a"].pop();var V={name:"App",components:{MessageView:P,ResultsView:Q},data(){return{questionaire:M["a"],currentQuestion:0,answers:[],resultMessage:$,totalPoints:M["b"]}},created(){try{const t=localStorage.getItem("store"),e=JSON.parse(t);e.version===M["c"]&&(this.currentQuestion=e.currentQuestion,this.answers=e.answers)}catch{}},methods:{nextQuestion(t){this.answers.push({id:this.question.id,choice:t}),this.currentQuestion++},previousQuestion(){this.currentQuestion>0&&(this.currentQuestion--,this.answers.pop())},restart(){this.answers=[],this.currentQuestion=0},updateStore(){console.log("updated");const t={currentQuestion:this.currentQuestion,answers:this.answers,version:M["c"]};localStorage.setItem("store",JSON.stringify(t))}},computed:{question(){return this.questionaire[this.currentQuestion]},done(){return this.currentQuestion===this.questionaire.length}},watch:{currentQuestion:"updateStore",answers:"updateStore"}},E=V,F=Object(d["a"])(E,s,r,!1,null,null,null),I=F.exports;n("017a"),n("85b4");i["a"].config.productionTip=!1,new i["a"]({render:t=>t(I)}).$mount("#app")},"85b4":function(t,e,n){},"9b19":function(t,e,n){t.exports=n.p+"img/logo.580ed694.svg"},b49f:function(t){t.exports=JSON.parse('{"a":[{"options":false,"priority":0,"title":"Willkommen!","id":"n437x8","body":"<p>Viel Spaß.</p>\\n"},{"options":[{"text":"Ja","points":1},{"text":"Nein","points":0}],"priority":2,"title":"Haben Sie ein IFG?","guidance":"Holen Sie sich eins.","problem":"Sie haben kein IFG.","id":"w9hngq","body":"<p>Bitte auch antworten, ja?</p>\\n"},{"options":[{"text":"vorhanden","points":2},{"text":"teilweise vorhanden","points":1},{"text":"nicht vorhanden","points":0}],"priority":0,"title":"Die Lust Anfragen zu Beantworten ist da.","guidance":"Mehr Wille!","problem":"Sie haben keine Lust!","id":"8ulsm3","body":"<p>Bitte auch antworten, ja?</p>\\n"},{"options":null,"priority":0,"title":"Fertig!","id":"lsrjnm","body":"<p>Hier der Überblick.</p>\\n"}],"b":3,"c":"x7wygb"}')},bf9f:function(t,e,n){t.exports=n.p+"img/circle.199a29ea.svg"},e0e9:function(t,e,n){"use strict";var i=n("1778"),s=n.n(i);s.a},fd93:function(t,e,n){"use strict";var i=n("2a66"),s=n.n(i);s.a}});
//# sourceMappingURL=app.f8fe7c4b.js.map